<div *ngFor="let session of sessions">

  <div class="panel panel-default">

    <div class="panel-body">

      <div class="col-md-5">
        <h4>{{session.title}}</h4>
      </div>


      <div class="col-md-7 btn-position-right" *ngIf="getOrganisers(session)">

        <button class="btn btn-primary" data-balloon="Info!" data-balloon-pos="up" (click)="selectSession(session)"
                md-tooltip="some message" tooltip-position="below">
          <i class="fa fa-info-circle" aria-hidden="true"></i>
        </button>

        <button class="btn btn-primary " (click)="modal.open()" data-balloon="Invite users!" data-balloon-pos="up">
          <i class="fa fa-user-plus" aria-hidden="true"></i>
        </button>

        <button class="btn btn-primary " (click)="selectCards(session)" data-balloon="Select cards!"
                data-balloon-pos="up">
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </button>

        <button (click)="cloneSession(session)" class="btn btn-primary " data-balloon="Copy session!"
                data-balloon-pos="up">
          <i class="fa fa-clone" aria-hidden="true"></i>
        </button>

        <button *ngIf="session.status == 'created'" (click)="startSession(session)" class="btn btn-success "
                data-balloon="Start session!" data-balloon-pos="up">
          <i class="fa fa-play-circle" aria-hidden="true"></i>
        </button>

        <button *ngIf="session.status != 'created'" (click)="startSession(session)" class="btn btn-success "
                data-balloon="Go to circle!"
                data-balloon-pos="up">
          <i class="fa fa-play-circle" aria-hidden="true"></i>
        </button>

        <button *ngIf="session.status != 'created'" (click)="showHistory(session)" class="btn btn-warning "
                data-balloon="Show history!"
                data-balloon-pos="up">
          <i class="fa fa-play-circle" aria-hidden="true"></i>
        </button>

        <button (click)="deleteSession(session)" class="btn btn-danger " style="display: inline"
                data-balloon="Delete session!" data-balloon-pos="up">
          <i class="fa fa-times-circle" aria-hidden="true"></i>
        </button>
      </div>


      <div class="col-md-7 btn-position-right" *ngIf="!getOrganisers(session)">

        <a class="btn btn-primary " (click)="selectCards(session)" data-balloon="Select cards!" data-balloon-pos="up">
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </a>

        <a class="btn btn-primary " (click)="goToSession(session)" data-balloon="Go to game!" data-balloon-pos="up">
          <i class="fa fa-play-circle" aria-hidden="true"></i>
        </a>

      </div>


    </div>
  </div>

  <modal #modal>
    <modal-header [show-close]="true">
      <h4 class="modal-title">Invite to session</h4>
    </modal-header>
    <modal-body>
      <alert></alert>
      <tag-input style="height: auto !important; padding: 0 !important;" [(ngModel)]="session.invitees"
                 separatorKeys="[32]" placeholder="Add another email" [validators]="validators"
                 [errorMessages]="errorMessages" [theme]="'minimal'" addOnBlur="[true]" name="invitees"
                 class="form-control"
                 secondaryPlaceholder="Add a new email"></tag-input>
      <br>
      <button (click)="inviteToSession(session)" class="btn btn-primary btn-block">INVITE</button>

    </modal-body>
  </modal>


</div>







